# Architecture

## System Overview

```
┌─────────────────────────────────────────────────────────────┐
│                        Monorepo                             │
│                    (npm workspaces)                         │
└─────────────────────────────────────────────────────────────┘
                              │
                ┌─────────────┼─────────────┐
                │             │             │
                ▼             ▼             ▼
        ┌───────────┐  ┌───────────┐  ┌───────────┐
        │ Frontend  │  │  Backend  │  │  Shared   │
        │  (React)  │  │ (Express) │  │  (Types)  │
        └───────────┘  └───────────┘  └───────────┘
                │             │             │
                └─────────────┴─────────────┘
                           │
                           ▼
                    ┌──────────────┐
                    │ Shared Types │
                    └──────────────┘
```

## Frontend Architecture

```
┌─────────────────────────────────────────────────────────────┐
│                      Frontend (Vite + React)                │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  ┌──────────────┐                                           │
│  │   App.tsx    │───▶ Feature Pages                         │
│  │  (Router)    │                                           │
│  └──────────────┘                                           │
│                                                             │
│  ┌──────────────────────────────────────────────────────┐   │
│  │              API Layer (fetch)                       │   │
│  └──────────────────────────────────────────────────────┘   │
│                           │                                 │
└───────────────────────────┼─────────────────────────────────┘
                            │
                            ▼
```

## Backend Architecture

```
┌─────────────────────────────────────────────────────────────┐
│                    Backend (Express + Node.js)              │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  ┌──────────────────────────────────────────────────────┐   │
│  │              Express Server                          │   │
│  │  - CORS enabled                                      │   │
│  │  - JSON body parser                                  │   │
│  └──────────────────────────────────────────────────────┘   │
│                           │                                 │
│                           ▼                                 │
│  ┌──────────────────────────────────────────────────────┐   │
│  │              Feature-Based Routes                    │   │
│  │                                                      │   │
│  │  features/{feature}/                                 │   │
│  │  - routes.ts                                         │   │
│  │  - controller.ts                                     │   │
│  │  - service.ts                                        │   │
│  └──────────────────────────────────────────────────────┘   │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

## Data Flow

```
┌──────────┐         HTTP/REST          ┌──────────┐
│          │ ─────────────────────────▶ │          │
│ Frontend │                            │ Backend  │
│          │ ◀───────────────────────── │          │
└──────────┘      JSON Response         └──────────┘
     │                                        │
     │                                        ▼
     │                              ┌─────────────────┐
     │                              │   Controller    │
     │                              │      ↓          │
     │                              │    Service      │
     │                              └─────────────────┘
     │
     ▼
┌─────────────────┐
│  Shared Types   │
└─────────────────┘
```
